extends: existence
message: "If you expect users to copy and run the command, specify output in a separate code block."
link: https://docs.docker.com/contribute/style/formatting/#best-practice-for-commands
level: warning
scope: raw
#check for console code fence followed by one line with $ or #, and not ending in `or \. Followed by more lines without $ or # and terminated by code fence
raw:
  - '(\`\`\`console\n)'         # start ```console
  - '[^(\$|#)]*'           # 0 or more characters without $ or #
  - '.*(\$|#).*[^\`\\]\n'    # 1 line with $ or #, without ` or \ at end
  - '((?!\`\`\`|\$|#)(.|\n))+'  # 1 or more lines without ```, $, or #
  - '\`\`\`'               # stop ```
